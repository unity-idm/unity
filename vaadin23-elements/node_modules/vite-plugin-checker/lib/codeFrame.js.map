{"version":3,"sources":["../src/codeFrame.ts"],"sourcesContent":["import os from 'os'\nimport ts from 'typescript'\n\nimport { codeFrameColumns, SourceLocation } from '@babel/code-frame'\n\nexport function createFrame({\n  source,\n  location,\n}: {\n  source: string // file source code\n  location: SourceLocation\n}) {\n  const frame = codeFrameColumns(source, location, {\n    highlightCode: true,\n  })\n    .split('\\n')\n    .map((line) => '  ' + line)\n    .join(os.EOL)\n\n  return frame\n}\n\nexport function tsLocationToBabelLocation(\n  tsLoc: Record<'start' | 'end', ts.LineAndCharacter /** 0-based */>\n): SourceLocation {\n  return {\n    start: { line: tsLoc.start.line + 1, column: tsLoc.start.character + 1 },\n    end: { line: tsLoc.end.line + 1, column: tsLoc.end.character + 1 },\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAe;AAGf,wBAAiD;AAE1C,qBAAqB;AAAA,EAC1B;AAAA,EACA;AAAA,GAIC;AACD,QAAM,QAAQ,wCAAiB,QAAQ,UAAU;AAAA,IAC/C,eAAe;AAAA,EACjB,CAAC,EACE,MAAM,IAAI,EACV,IAAI,CAAC,SAAS,OAAO,IAAI,EACzB,KAAK,kBAAG,GAAG;AAEd,SAAO;AACT;AAEO,mCACL,OACgB;AAChB,SAAO;AAAA,IACL,OAAO,EAAE,MAAM,MAAM,MAAM,OAAO,GAAG,QAAQ,MAAM,MAAM,YAAY,EAAE;AAAA,IACvE,KAAK,EAAE,MAAM,MAAM,IAAI,OAAO,GAAG,QAAQ,MAAM,IAAI,YAAY,EAAE;AAAA,EACnE;AACF;","names":[]}