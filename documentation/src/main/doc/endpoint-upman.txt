[[endp-upman]]
=== Unity Project Management (UpMan) endpoint

Endpoint type:: +UpManUI+
Binding:: Web
Exposed paths:: +/upman+
Default path:: +/upman+

UpMan can be used to expose a simple group management interface to non-technical administrators, called project managers.

Endpoint configuration itself contains only standard options common for all web endpoints. 

Separate <<endp-rest-upman>> exposes a RESTful API allowing for management of Unity projects.

==== Exposing groups for management in UpMan

By default none of the groups defined in Unity is available for management with UpMan. Unity administrator 
must enable UpMan on each group, making it a manageable project root in AdminUI. This is done using group context menu, 
with the "Edit delegation configuration" option. 

The main Unity admin can control which attributes are enabled for inspection in UpMan, setup visual settings 
for the project and most importantly configure forms. The forms are used for:

* signing up new users (registration) into project, 
* signing up existing Unity users into project with sticky enquiry (note that this process is different 
than registration as no credentials need to be collected, as well as general entity related attributes), and finally
* updating membership in the project for project members with a sticky enquiry (different then the signing one).

There is quite a few things to be set up when creating each of forms. Unity offers a generator on the dialog,
we suggest to start from an autogenerated form, and then fine tune it. After changing the form Unity can verify its 
basic settings to check whether the form looks good for the project. This can be also invoked from 
the delegation edit dialog.

The final step after configuring the project is to designate an initial manager (who will be able to designate other 
ones). To do so add the prospective manager to the project group and assign her the +sys:ProjectManagementRole+
attribute with value +manager+.

==== Consequences of using UpMan

Note that by using UpMan project manager will be able to perform actions that will influence also global state of Unity
database. The primary control measure are the forms used in the project configuration. Project manager can accept 
requests submitted to those forms, invite users etc. Those users will become regular Unity users 
with (at least) all parent groups of the project group membership, will have credential set etc. There may be also 
other actions taken for those users as configured in the forms. However, project manager can not 
re-configure any of the project forms, therefore in a sense a person controlling the forms, also have some 
general responsibility and control over the project.

As it can be guessed from the above description that all UpMan triggered changes are visible in Admin Console, 
including project subgroups, project members, registration requests etc. 

==== Using UpMan

Using UpMan should be straightforward. Project manager can browse users, control project sub groups structure,
manage group membership and designate other managers.

New users can be invited to the project, using their email address. Unity will invite using appropriate 
registration form or sign up enquiry depending on whether invited email is already Unity member or not.

Note: UpMan sets one custom variable which can be used in message templates configured for invitations 
from UpMan (that is configured on a registration form bound to UpMan project): +custom.upmanProject+. 
This variable holds project name, so it can be used in the invitation body.  

Additionally (if project forms allow for this) prospective users can fill the forms by going to their public link.
Unless form is configured for automatic acceptance of all requests (e.g. after email confirmation), project manager
will need to accept each request, what is also possible in UpMan UI.


==== Endpoint file configuration

Below is a complete list of options UpMan endpoint accepts in its configuration file. Common properties of 
a web endpoint applies as well.

include::ref-UpmanProperties.txt[]
